import{c as O,a as h,b as P,d as e,R as M,C as p,e as S,t as g,F as $,i as I,S as j,_,u as D,f as k,g as y,M as w,h as N,j as W,m as F}from"./index.7f487056.js";import{S as V,a as G,V as K,b as B}from"./WinLossMetrics.9b1163bc.js";const Y=g("<h3>Players per Crew</h3>"),H=g("<p>Percent of players who played each crew. Hover for count of players.</p>"),U=s=>{var n=O(()=>s.metrics);const[o,u]=h(),[c,C]=h();return P(()=>{var d=new Map,m=new Set;for(var i of n()){let t=i.crew,a=i.player;m.has(a)||(m.add(a),d.set(t,1+(d.has(t)?d.get(t):0)))}var r=Array.from(d.keys()).map(t=>[t,d.get(t)]).sort((t,a)=>a[1]-t[1]);u({chart:{id:"chart",width:"100%"},theme:{mode:"dark"},colors:["#082c60","#2f3735","#564209","#81630e","#ab8412","#988d61","#8496b0","#c2cbd8","#2c6008","#1a4634","#11394a","#2b2105"],labels:Array.from(r.map(t=>t[0]))}),C(Array.from(r.map(t=>t[1])))}),e(S,{style:{"padding-left":"0px","padding-right":"0px"},fluid:!0,get children(){return e(M,{get children(){return[e(p,{md:2}),e(p,{get children(){return[Y.cloneNode(!0),H.cloneNode(!0),e(V,{width:"500",type:"pie",get options(){return o()},get series(){return c()}})]}}),e(p,{md:2})]}})}})},q=g("<h3>Bosses for Crew: </h3>"),z=g("<p>Count of bosses used by players playing this crew.</p>"),J=s=>{var n=O(()=>s.metrics.bosses);const[o,u]=h([]),[c,C]=h([]),[d,m]=h([]);return P(()=>{var i=new Map;if(n()===null)return;for(var r of n()){let R=r.crew.toLocaleLowerCase(),f=r.boss.toLowerCase();if(i.has(R)){let v=i.get(R),x=v.has(f)?v.get(f):0;v.set(f,x+1)}else{let v=new Map;v.set(f,1),i.set(R,v)}}let t=new Array,a=new Array,E=new Array;for(var L of i){let R=L[0],f=L[1];t.push(R),a.push({chart:{id:"chart",width:"100%",background:"transparent"},theme:{mode:"dark"},colors:["#082c60","#2f3735","#564209","#81630e","#ab8412","#988d61","#8496b0","#c2cbd8","#2c6008","#1a4634","#11394a","#2b2105"],labels:Array.from(f.keys())}),E.push(Array.from(f.values()))}u(t),C(a),m(E)}),e(S,{fluid:!0,get children(){return e($,{get each(){return o()},children:(i,r)=>e(M,{style:{"margin-top":"30px"},get children(){return[e(p,{md:2}),e(p,{get children(){return[(()=>{const t=q.cloneNode(!0);return t.firstChild,I(t,i,null),t})(),z.cloneNode(!0),e(V,{width:"500",type:"pie",get options(){return c()[r()]},get series(){return d()[r()]}})]}}),e(p,{md:2})]}})})}})},Q=g("<div></div>"),X=s=>{const n=O(()=>s.metrics.stats),o=O(()=>s.supplimentaryMetrics);return[(()=>{const u=Q.cloneNode(!0);return u.style.setProperty("topMargin","10px"),I(u,e(U,{get metrics(){return n()}})),u})(),e(j,{get when(){return o()!==null},get children(){return e(J,{get metrics(){return o()}})}})]},Z=g("<h3> - </h3>"),ee=g("<p>Please select an event from the sidebar.</p>"),te=g("<option></option>"),re=g("<p>Loading metrics...</p>"),A=Object.assign({"../events/2022_11_18_Renegade_Open__The_Riddlers_Renegade_Rampage_1.json":()=>_(()=>import("./2022_11_18_Renegade_Open__The_Riddlers_Renegade_Rampage_1.ef657290.js"),[]),"../events/2022_11_19_Renegade_Open__Knightfall_5.json":()=>_(()=>import("./2022_11_19_Renegade_Open__Knightfall_5.d51f5860.js"),[]),"../events/2023_03_23_Streets_of_Gotham.json":()=>_(()=>import("./2023_03_23_Streets_of_Gotham.dc4ba26d.js"),[]),"../events/2023_03_24_Battle_for_the_Cowl.json":()=>_(()=>import("./2023_03_24_Battle_for_the_Cowl.470bc712.js"),[]),"../events/Long Halloween 2022.json":()=>_(()=>import("./Long Halloween 2022.4d1c7b5f.js"),[]),"../events/Renegade - Spring Up GT.json":()=>_(()=>import("./Renegade - Spring Up GT.7881c959.js"),[]),"../events/Renegade - Summer Meltdown - Sunday Slam.json":()=>_(()=>import("./Renegade - Summer Meltdown - Sunday Slam.13421d63.js"),[]),"../events/Renegade - Summer Meltdown.json":()=>_(()=>import("./Renegade - Summer Meltdown.73028817.js"),[])}),b=Object.assign({"../supplimentary_event_data/2022_11_18_Renegade_Open__The_Riddlers_Renegade_Rampage_1.json":()=>_(()=>import("./2022_11_18_Renegade_Open__The_Riddlers_Renegade_Rampage_1.7892488a.js"),[]),"../supplimentary_event_data/2022_11_19_Renegade_Open__Knightfall_5.json":()=>_(()=>import("./2022_11_19_Renegade_Open__Knightfall_5.b02fbc85.js"),[])});var l;(function(s){s[s.SIMPLE_RANKING=0]="SIMPLE_RANKING",s[s.VICTORY_POINT_PLOT=1]="VICTORY_POINT_PLOT",s[s.WIN_LOSS_METRICS=2]="WIN_LOSS_METRICS",s[s.CREW_COMPOSITION=3]="CREW_COMPOSITION"})(l||(l={}));const T=[{name:"Ranking",type:l.SIMPLE_RANKING},{name:"Crew Composition",type:l.CREW_COMPOSITION},{name:"Victory Point Metrics",type:l.VICTORY_POINT_PLOT},{name:"Win Loss Metrics",type:l.WIN_LOSS_METRICS}],ie=()=>{const s=O(()=>D().slug),n=O(()=>k.find(r=>r.slug===s())),[o,u]=h(l.SIMPLE_RANKING),[c,C]=h(null),[d,m]=h(null);P(()=>{if(n()!==null&&n()!==void 0){const r="../events/"+n().stats;if(r in A&&A[r]().then(t=>{C(t)}),n().supplimentary_data){const t="../supplimentary_event_data/"+n().stats;t in b&&b[t]().then(a=>{m(a)})}else m(null)}});function i(r){const t=+r.target.value;for(var a of T)t===a.type&&u(a.type)}return e(S,{fluid:!0,get children(){return e(y,{get fallback(){return ee.cloneNode(!0)},get children(){return e(w,{when:n!=null,get children(){return[e(S,{class:"text-center",fluid:!0,get children(){return[(()=>{const r=Z.cloneNode(!0),t=r.firstChild;return I(r,()=>n().name,t),I(r,()=>n().date,null),r})(),e(N,{get children(){return e(N.Select,{style:{padding:"10px","margin-top":"10px","margin-bottom":"15px","max-width":"300px",display:"inline"},onChange:i,get value(){return o()},get children(){return e($,{each:T,children:(r,t)=>(()=>{const a=te.cloneNode(!0);return I(a,()=>r.name),W(()=>a.value=r.type),a})()})}})}})]}}),e(S,{fluid:!0,get children(){return e(M,{get children(){return[e(p,{sm:2}),e(p,{get children(){return e(y,{get fallback(){return re.cloneNode(!0)},get children(){return e(w,{get when(){return F(()=>c()!==null,!0)()&&c()!==void 0},get children(){return e(y,{get children(){return[e(w,{get when(){return o()===l.SIMPLE_RANKING},get children(){return e(G,{get event(){return n()},get metrics(){return c()},excludeMaskedPlayers:!1})}}),e(w,{get when(){return o()===l.CREW_COMPOSITION},get children(){return e(X,{get event(){return n()},get supplimentaryMetrics(){return d()},get metrics(){return c()},excludeMaskedPlayers:!1})}}),e(w,{get when(){return o()===l.VICTORY_POINT_PLOT},get children(){return e(K,{get event(){return n()},get metrics(){return c()}})}}),e(w,{get when(){return o()===l.WIN_LOSS_METRICS},get children(){return e(B,{get event(){return n()},get metrics(){return c()}})}})]}})}})}})}}),e(p,{sm:2})]}})}})]}})}})}})};export{ie as default};
