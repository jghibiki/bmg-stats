import{c as v,a as g,b as R,d as e,R as P,C as p,e as y,t as _,F as $,i as I,S as k,_ as C,u as j,f as W,g as M,M as w,h as L,j as D,m as F}from"./index.6de588da.js";import{S as x,a as G,V as B,b as K}from"./WinLossMetrics.edadc0a0.js";const Y=_("<h3>Players per Crew</h3>"),H=_("<p>Percent of players who played each crew. Hover for count of players.</p>"),U=s=>{var n=v(()=>s.metrics);const[o,u]=g(),[c,S]=g();return R(()=>{var d=new Map,h=new Set;for(var i of n()){let t=i.crew,a=i.player;h.has(a)||(h.add(a),d.set(t,1+(d.has(t)?d.get(t):0)))}var r=Array.from(d.keys()).map(t=>[t,d.get(t)]).sort((t,a)=>a[1]-t[1]);u({chart:{id:"chart",width:"100%"},theme:{mode:"dark"},colors:["#082c60","#2f3735","#564209","#81630e","#ab8412","#988d61","#8496b0","#c2cbd8","#2c6008","#1a4634","#11394a","#2b2105"],labels:Array.from(r.map(t=>t[0]))}),S(Array.from(r.map(t=>t[1])))}),e(y,{style:{"padding-left":"0px","padding-right":"0px"},fluid:!0,get children(){return e(P,{get children(){return[e(p,{md:2}),e(p,{get children(){return[Y.cloneNode(!0),H.cloneNode(!0),e(x,{width:"500",type:"pie",get options(){return o()},get series(){return c()}})]}}),e(p,{md:2})]}})}})},q=_("<h3>Bosses for Crew: </h3>"),z=_("<p>Count of bosses used by players playing this crew.</p>"),J=s=>{var n=v(()=>s.metrics.bosses);const[o,u]=g([]),[c,S]=g([]),[d,h]=g([]);return R(()=>{var i=new Map;if(n()===null)return;for(var r of n()){let O=r.crew.toLocaleLowerCase(),m=r.boss.toLowerCase();if(i.has(O)){let f=i.get(O),V=f.has(m)?f.get(m):0;f.set(m,V+1)}else{let f=new Map;f.set(m,1),i.set(O,f)}}let t=new Array,a=new Array,N=new Array;for(var E of i){let O=E[0],m=E[1];t.push(O),a.push({chart:{id:"chart",width:"100%",background:"transparent"},theme:{mode:"dark"},colors:["#082c60","#2f3735","#564209","#81630e","#ab8412","#988d61","#8496b0","#c2cbd8","#2c6008","#1a4634","#11394a","#2b2105"],labels:Array.from(m.keys())}),N.push(Array.from(m.values()))}u(t),S(a),h(N)}),e(y,{fluid:!0,get children(){return e($,{get each(){return o()},children:(i,r)=>e(P,{style:{"margin-top":"30px"},get children(){return[e(p,{md:2}),e(p,{get children(){return[(()=>{const t=q.cloneNode(!0);return t.firstChild,I(t,i,null),t})(),z.cloneNode(!0),e(x,{width:"500",type:"pie",get options(){return c()[r()]},get series(){return d()[r()]}})]}}),e(p,{md:2})]}})})}})},Q=_("<div></div>"),X=s=>{const n=v(()=>s.metrics.stats),o=v(()=>s.supplimentaryMetrics);return[(()=>{const u=Q.cloneNode(!0);return u.style.setProperty("topMargin","10px"),I(u,e(U,{get metrics(){return n()}})),u})(),e(k,{get when(){return o()!==null},get children(){return e(J,{get metrics(){return o()}})}})]},Z=_("<h3> - </h3>"),ee=_("<p>Please select an event from the sidebar.</p>"),te=_("<option></option>"),re=_("<p>Loading metrics...</p>"),b=Object.assign({"../events/2022_11_18_Renegade_Open__The_Riddlers_Renegade_Rampage_1.json":()=>C(()=>import("./2022_11_18_Renegade_Open__The_Riddlers_Renegade_Rampage_1.ef657290.js"),[]),"../events/Long Halloween 2022.json":()=>C(()=>import("./Long Halloween 2022.4d1c7b5f.js"),[]),"../events/Renegade - Spring Up GT.json":()=>C(()=>import("./Renegade - Spring Up GT.7881c959.js"),[]),"../events/Renegade - Summer Meltdown - Sunday Slam.json":()=>C(()=>import("./Renegade - Summer Meltdown - Sunday Slam.13421d63.js"),[]),"../events/Renegade - Summer Meltdown.json":()=>C(()=>import("./Renegade - Summer Meltdown.73028817.js"),[])}),A=Object.assign({"../supplimentary_event_data/2022_11_18_Renegade_Open__The_Riddlers_Renegade_Rampage_1.json":()=>C(()=>import("./2022_11_18_Renegade_Open__The_Riddlers_Renegade_Rampage_1.7892488a.js"),[])});var l;(function(s){s[s.SIMPLE_RANKING=0]="SIMPLE_RANKING",s[s.VICTORY_POINT_PLOT=1]="VICTORY_POINT_PLOT",s[s.WIN_LOSS_METRICS=2]="WIN_LOSS_METRICS",s[s.CREW_COMPOSITION=3]="CREW_COMPOSITION"})(l||(l={}));const T=[{name:"Ranking",type:l.SIMPLE_RANKING},{name:"Crew Composition",type:l.CREW_COMPOSITION},{name:"Victory Point Metrics",type:l.VICTORY_POINT_PLOT},{name:"Win Loss Metrics",type:l.WIN_LOSS_METRICS}],ie=()=>{const s=v(()=>j().slug),n=v(()=>W.find(r=>r.slug===s())),[o,u]=g(l.SIMPLE_RANKING),[c,S]=g(null),[d,h]=g(null);R(()=>{if(n()!==null&&n()!==void 0){const r="../events/"+n().stats;if(r in b&&b[r]().then(t=>{S(t)}),n().supplimentary_data){const t="../supplimentary_event_data/"+n().stats;t in A&&A[t]().then(a=>{h(a)})}else h(null)}});function i(r){const t=+r.target.value;for(var a of T)t===a.type&&u(a.type)}return e(y,{fluid:!0,get children(){return e(M,{get fallback(){return ee.cloneNode(!0)},get children(){return e(w,{when:n!=null,get children(){return[e(y,{class:"text-center",fluid:!0,get children(){return[(()=>{const r=Z.cloneNode(!0),t=r.firstChild;return I(r,()=>n().name,t),I(r,()=>n().date,null),r})(),e(L,{get children(){return e(L.Select,{style:{padding:"10px","margin-top":"10px","margin-bottom":"15px","max-width":"300px",display:"inline"},onChange:i,get value(){return o()},get children(){return e($,{each:T,children:(r,t)=>(()=>{const a=te.cloneNode(!0);return I(a,()=>r.name),D(()=>a.value=r.type),a})()})}})}})]}}),e(y,{fluid:!0,get children(){return e(P,{get children(){return[e(p,{sm:2}),e(p,{get children(){return e(M,{get fallback(){return re.cloneNode(!0)},get children(){return e(w,{get when(){return F(()=>c()!==null,!0)()&&c()!==void 0},get children(){return e(M,{get children(){return[e(w,{get when(){return o()===l.SIMPLE_RANKING},get children(){return e(G,{get event(){return n()},get metrics(){return c()},excludeMaskedPlayers:!1})}}),e(w,{get when(){return o()===l.CREW_COMPOSITION},get children(){return e(X,{get event(){return n()},get supplimentaryMetrics(){return d()},get metrics(){return c()},excludeMaskedPlayers:!1})}}),e(w,{get when(){return o()===l.VICTORY_POINT_PLOT},get children(){return e(B,{get event(){return n()},get metrics(){return c()}})}}),e(w,{get when(){return o()===l.WIN_LOSS_METRICS},get children(){return e(K,{get event(){return n()},get metrics(){return c()}})}})]}})}})}})}}),e(p,{sm:2})]}})}})]}})}})}})};export{ie as default};
