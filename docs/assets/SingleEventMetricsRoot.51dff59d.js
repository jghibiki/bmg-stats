import{c as O,a as h,b as M,d as e,R as P,C as _,e as R,t as p,F as $,i as y,S as j,_ as g,u as k,f as D,g as I,M as v,h as L,j as W,m as F}from"./index.53c6dde5.js";import{S as V,a as K,V as G,b as B}from"./WinLossMetrics.2eb85d00.js";const Y=p("<h3>Players per Crew</h3>"),H=p("<p>Percent of players who played each crew. Hover for count of players.</p>"),U=s=>{var n=O(()=>s.metrics);const[o,u]=h(),[c,C]=h();return M(()=>{var d=new Map,m=new Set;for(var i of n()){let t=i.crew,a=i.player;m.has(a)||(m.add(a),d.set(t,1+(d.has(t)?d.get(t):0)))}var r=Array.from(d.keys()).map(t=>[t,d.get(t)]).sort((t,a)=>a[1]-t[1]);u({chart:{id:"chart",width:"100%"},theme:{mode:"dark"},colors:["#082c60","#2f3735","#564209","#81630e","#ab8412","#988d61","#8496b0","#c2cbd8","#2c6008","#1a4634","#11394a","#2b2105"],labels:Array.from(r.map(t=>t[0]))}),C(Array.from(r.map(t=>t[1])))}),e(R,{style:{"padding-left":"0px","padding-right":"0px"},fluid:!0,get children(){return e(P,{get children(){return[e(_,{md:2}),e(_,{get children(){return[Y.cloneNode(!0),H.cloneNode(!0),e(V,{width:"500",type:"pie",get options(){return o()},get series(){return c()}})]}}),e(_,{md:2})]}})}})},q=p("<h3>Bosses for Crew: </h3>"),z=p("<p>Count of bosses used by players playing this crew.</p>"),J=s=>{var n=O(()=>s.metrics.bosses);const[o,u]=h([]),[c,C]=h([]),[d,m]=h([]);return M(()=>{var i=new Map;if(n()===null)return;for(var r of n()){let S=r.crew.toLocaleLowerCase(),f=r.boss.toLowerCase();if(i.has(S)){let w=i.get(S),x=w.has(f)?w.get(f):0;w.set(f,x+1)}else{let w=new Map;w.set(f,1),i.set(S,w)}}let t=new Array,a=new Array,E=new Array;for(var N of i){let S=N[0],f=N[1];t.push(S),a.push({chart:{id:"chart",width:"100%",background:"transparent"},theme:{mode:"dark"},colors:["#082c60","#2f3735","#564209","#81630e","#ab8412","#988d61","#8496b0","#c2cbd8","#2c6008","#1a4634","#11394a","#2b2105"],labels:Array.from(f.keys())}),E.push(Array.from(f.values()))}u(t),C(a),m(E)}),e(R,{fluid:!0,get children(){return e($,{get each(){return o()},children:(i,r)=>e(P,{style:{"margin-top":"30px"},get children(){return[e(_,{md:2}),e(_,{get children(){return[(()=>{const t=q.cloneNode(!0);return t.firstChild,y(t,i,null),t})(),z.cloneNode(!0),e(V,{width:"500",type:"pie",get options(){return c()[r()]},get series(){return d()[r()]}})]}}),e(_,{md:2})]}})})}})},Q=p("<div></div>"),X=s=>{const n=O(()=>s.metrics.stats),o=O(()=>s.supplimentaryMetrics);return[(()=>{const u=Q.cloneNode(!0);return u.style.setProperty("topMargin","10px"),y(u,e(U,{get metrics(){return n()}})),u})(),e(j,{get when(){return o()!==null},get children(){return e(J,{get metrics(){return o()}})}})]},Z=p("<h3> - </h3>"),ee=p("<p>Please select an event from the sidebar.</p>"),te=p("<option></option>"),re=p("<p>Loading metrics...</p>"),b=Object.assign({"../events/2022_11_18_Renegade_Open__The_Riddlers_Renegade_Rampage_1.json":()=>g(()=>import("./2022_11_18_Renegade_Open__The_Riddlers_Renegade_Rampage_1.ef657290.js"),[]),"../events/2022_11_19_Renegade_Open__Knightfall_5.json":()=>g(()=>import("./2022_11_19_Renegade_Open__Knightfall_5.d51f5860.js"),[]),"../events/Long Halloween 2022.json":()=>g(()=>import("./Long Halloween 2022.4d1c7b5f.js"),[]),"../events/Renegade - Spring Up GT.json":()=>g(()=>import("./Renegade - Spring Up GT.7881c959.js"),[]),"../events/Renegade - Summer Meltdown - Sunday Slam.json":()=>g(()=>import("./Renegade - Summer Meltdown - Sunday Slam.13421d63.js"),[]),"../events/Renegade - Summer Meltdown.json":()=>g(()=>import("./Renegade - Summer Meltdown.73028817.js"),[])}),A=Object.assign({"../supplimentary_event_data/2022_11_18_Renegade_Open__The_Riddlers_Renegade_Rampage_1.json":()=>g(()=>import("./2022_11_18_Renegade_Open__The_Riddlers_Renegade_Rampage_1.7892488a.js"),[]),"../supplimentary_event_data/2022_11_19_Renegade_Open__Knightfall_5.json":()=>g(()=>import("./2022_11_19_Renegade_Open__Knightfall_5.b02fbc85.js"),[])});var l;(function(s){s[s.SIMPLE_RANKING=0]="SIMPLE_RANKING",s[s.VICTORY_POINT_PLOT=1]="VICTORY_POINT_PLOT",s[s.WIN_LOSS_METRICS=2]="WIN_LOSS_METRICS",s[s.CREW_COMPOSITION=3]="CREW_COMPOSITION"})(l||(l={}));const T=[{name:"Ranking",type:l.SIMPLE_RANKING},{name:"Crew Composition",type:l.CREW_COMPOSITION},{name:"Victory Point Metrics",type:l.VICTORY_POINT_PLOT},{name:"Win Loss Metrics",type:l.WIN_LOSS_METRICS}],ie=()=>{const s=O(()=>k().slug),n=O(()=>D.find(r=>r.slug===s())),[o,u]=h(l.SIMPLE_RANKING),[c,C]=h(null),[d,m]=h(null);M(()=>{if(n()!==null&&n()!==void 0){const r="../events/"+n().stats;if(r in b&&b[r]().then(t=>{C(t)}),n().supplimentary_data){const t="../supplimentary_event_data/"+n().stats;t in A&&A[t]().then(a=>{m(a)})}else m(null)}});function i(r){const t=+r.target.value;for(var a of T)t===a.type&&u(a.type)}return e(R,{fluid:!0,get children(){return e(I,{get fallback(){return ee.cloneNode(!0)},get children(){return e(v,{when:n!=null,get children(){return[e(R,{class:"text-center",fluid:!0,get children(){return[(()=>{const r=Z.cloneNode(!0),t=r.firstChild;return y(r,()=>n().name,t),y(r,()=>n().date,null),r})(),e(L,{get children(){return e(L.Select,{style:{padding:"10px","margin-top":"10px","margin-bottom":"15px","max-width":"300px",display:"inline"},onChange:i,get value(){return o()},get children(){return e($,{each:T,children:(r,t)=>(()=>{const a=te.cloneNode(!0);return y(a,()=>r.name),W(()=>a.value=r.type),a})()})}})}})]}}),e(R,{fluid:!0,get children(){return e(P,{get children(){return[e(_,{sm:2}),e(_,{get children(){return e(I,{get fallback(){return re.cloneNode(!0)},get children(){return e(v,{get when(){return F(()=>c()!==null,!0)()&&c()!==void 0},get children(){return e(I,{get children(){return[e(v,{get when(){return o()===l.SIMPLE_RANKING},get children(){return e(K,{get event(){return n()},get metrics(){return c()},excludeMaskedPlayers:!1})}}),e(v,{get when(){return o()===l.CREW_COMPOSITION},get children(){return e(X,{get event(){return n()},get supplimentaryMetrics(){return d()},get metrics(){return c()},excludeMaskedPlayers:!1})}}),e(v,{get when(){return o()===l.VICTORY_POINT_PLOT},get children(){return e(G,{get event(){return n()},get metrics(){return c()}})}}),e(v,{get when(){return o()===l.WIN_LOSS_METRICS},get children(){return e(B,{get event(){return n()},get metrics(){return c()}})}})]}})}})}})}}),e(_,{sm:2})]}})}})]}})}})}})};export{ie as default};
