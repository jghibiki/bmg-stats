import{x as Q,s as h,k as l,y as A,l as v,d as t,D as P,p as x,z as de,A as ge,B as _e,_ as p,E as pe,a as g,c as z,b as y,e as S,R as C,C as u,h as O,F as Y,f as T,i as K,j as me,g as U,M as R,m as V,t as L}from"./index.7f487056.js";import{a as fe,V as he,b as ve}from"./WinLossMetrics.9b1163bc.js";function X(n,e){return Array.isArray(n)?n.includes(e):n===e}const Pe=Q({}),$=Pe,xe={as:"div"},ye=n=>{const[e,s]=h(l(xe,n),["as","bsPrefix","class","className","children","eventKey"]),a=A($),r=v(e.bsPrefix,"accordion-collapse");return t(de,l({get in(){return X(a.activeEventKey,e.eventKey)}},s,{get children(){return t(P,{get component(){return e.as},get class(){return x(e.class,e.className,r)},get children(){return e.children}})}}))},Z=ye,Se=Q({eventKey:""}),w=Se,Re={as:"div"},Ee=n=>{const[e,s]=h(l(Re,n),["as","bsPrefix","class","className"]),a=v(e.bsPrefix,"accordion-body"),r=A(w);return t(Z,{get eventKey(){return r.eventKey},get children(){return t(P,l({get component(){return e.as}},s,{get class(){return x(e.class,e.className,a)}}))}})},Ie=Ee;function Ae(n,e){const s=A($);return a=>{let r=n===s.activeEventKey?null:n;s.alwaysOpen&&(Array.isArray(s.activeEventKey)?s.activeEventKey.includes(n)?r=s.activeEventKey.filter(_=>_!==n):r=[...s.activeEventKey,n]:r=[n]),s.onSelect?.(r,a),ge(e,a)}}const be={as:"button"},Ce=n=>{const[e,s]=h(l(be,n),["as","bsPrefix","class","className","onClick"]),a=v(e.bsPrefix,"accordion-button"),r=A(w),_=Ae(r.eventKey,e.onClick),f=A($);return t(P,l({get component(){return e.as},onClick:_},s,{get type(){return e.as==="button"?"button":void 0},get["aria-expanded"](){return r.eventKey===f.activeEventKey},get class(){return x(e.class,e.className,a,!X(f.activeEventKey,r.eventKey)&&"collapsed")}}))},ee=Ce,Oe={as:"h2"},Ne=n=>{const[e,s]=h(l(Oe,n),["as","bsPrefix","class","className","children","onClick"]),a=v(e.bsPrefix,"accordion-header");return t(P,l({get component(){return e.as}},s,{get class(){return x(e.class,e.className,a)},get children(){return t(ee,{get onClick(){return e.onClick},get children(){return e.children}})}}))},Le=Ne,$e={as:"div"},Me=n=>{const[e,s]=h(l($e,n),["as","bsPrefix","class","className","eventKey"]),a=v(e.bsPrefix,"accordion-item"),r={get eventKey(){return e.eventKey}};return t(w.Provider,{value:r,get children(){return t(P,l({get component(){return e.as}},s,{get class(){return x(e.class,e.className,a)}}))}})},Te=Me,Ke={as:"div"},Ve=n=>{const[e,s]=h(l(Ke,n),["as","activeKey","alwaysOpen","bsPrefix","class","className","defaultActiveKey","onSelect","flush"]),[a,r]=_e(()=>e.activeKey,()=>e.defaultActiveKey,e.onSelect),_=v(e.bsPrefix,"accordion"),f={get activeEventKey(){return a()},get alwaysOpen(){return e.alwaysOpen},get onSelect(){return r}};return t($.Provider,{value:f,get children(){return t(P,l({get component(){return e.as}},s,{get class(){return x(e.class,e.className,_,e.flush&&`${_}-flush`)}}))}})},N=Object.assign(Ve,{Button:ee,Collapse:Z,Item:Te,Header:Le,Body:Ie}),we={as:"div"},ke=n=>{const[e,s]=h(l(we,n),["as","bsPrefix","variant","animation","size","class","className"]),r=`${v(e.bsPrefix,"spinner")}-${e.animation}`;return t(P,l({get component(){return e.as}},s,{get class(){return x(e.class,e.className,r,e.size&&`${r}-${e.size}`,e.variant&&`text-${e.variant}`)}}))},je=ke,De=L("<h3>Season Stats</h3>"),Be=L('<span class="visually-hidden">Loading...</span>'),Ge=L("<span> </span>"),Fe=L("<option></option>"),q=Object.assign({"../events/2022_11_18_Renegade_Open__The_Riddlers_Renegade_Rampage_1.json":()=>p(()=>import("./2022_11_18_Renegade_Open__The_Riddlers_Renegade_Rampage_1.ef657290.js"),[]),"../events/2022_11_19_Renegade_Open__Knightfall_5.json":()=>p(()=>import("./2022_11_19_Renegade_Open__Knightfall_5.d51f5860.js"),[]),"../events/2023_03_23_Streets_of_Gotham.json":()=>p(()=>import("./2023_03_23_Streets_of_Gotham.dc4ba26d.js"),[]),"../events/2023_03_24_Battle_for_the_Cowl.json":()=>p(()=>import("./2023_03_24_Battle_for_the_Cowl.470bc712.js"),[]),"../events/Long Halloween 2022.json":()=>p(()=>import("./Long Halloween 2022.4d1c7b5f.js"),[]),"../events/Renegade - Spring Up GT.json":()=>p(()=>import("./Renegade - Spring Up GT.7881c959.js"),[]),"../events/Renegade - Summer Meltdown - Sunday Slam.json":()=>p(()=>import("./Renegade - Summer Meltdown - Sunday Slam.13421d63.js"),[]),"../events/Renegade - Summer Meltdown.json":()=>p(()=>import("./Renegade - Summer Meltdown.73028817.js"),[])});Object.assign({"../supplimentary_event_data/2022_11_18_Renegade_Open__The_Riddlers_Renegade_Rampage_1.json":()=>p(()=>import("./2022_11_18_Renegade_Open__The_Riddlers_Renegade_Rampage_1.7892488a.js"),[]),"../supplimentary_event_data/2022_11_19_Renegade_Open__Knightfall_5.json":()=>p(()=>import("./2022_11_19_Renegade_Open__Knightfall_5.b02fbc85.js"),[])});var m;(function(n){n[n.SIMPLE_RANKING=0]="SIMPLE_RANKING",n[n.VICTORY_POINT_PLOT=1]="VICTORY_POINT_PLOT",n[n.WIN_LOSS_METRICS=2]="WIN_LOSS_METRICS"})(m||(m={}));const J=[{name:"Ranking",type:m.SIMPLE_RANKING},{name:"Victory Point Metrics",type:m.VICTORY_POINT_PLOT},{name:"Win Loss Metrics",type:m.WIN_LOSS_METRICS}],ze=()=>{const[n,e]=pe(),[s,a]=g(n.format||""),r=z(()=>n.slugs||""),[_,f]=g(null),[te,ne]=g(0),[k,j]=g(0),[re,D]=g(!1),[B,G]=g(new Array);g(0),g(!1),g(new Array);const se=z(()=>r()===""?[]:r()?.split("|")||[]),E=()=>({stats:B()}),[M,F]=g(!1);function oe(o){G([...o,...B()])}function H(){let o=r()?.split("|")||[],i=d=>o.includes(d.slug);return T.filter(i)}function ce(){let o=!1,i;if(s()!==void 0&&s()!==""){let d=I=>I.format.slug===n.format;o=!0,i=T.filter(d)}else i=H();let c=i.map(d=>d.slug).sort().join("|");o&&(f(c),a(""))}y(()=>{if(re()&&!M()){D(!1);let o=H();F(o.length>0),ne(o.length),j(0),G([]),o.map(i=>{const c="../events/"+i.stats;c in q&&q[c]().then(d=>{console.log(`loaded file ${c}`),j(1+k());let I=d.stats.map(ue=>({...ue,tornament_slug:i.slug}));oe(I),te()===k()&&setTimeout(()=>{F(!1)},200)})})}});function W(){return r()===""?[]:r()?.split("|")||[]}function ae(o,i){let c=n.slugs?.split("|")||[],d=c.indexOf(o);d>=0?c.splice(d,1):c.push(o);let I=c.sort().join("|");f(I)}y(()=>{ce()}),y(()=>{a(n.format)}),y(()=>{console.log(`current slug updated: ${r()}`)}),y(()=>{r(),D(!0)}),y(()=>{console.log(`Update Params. current: ${r()} Slug:${_()} format: ${s()}`),_()!==null&&(e({slugs:_(),format:s()}),f(null))});const[b,le]=g(m.SIMPLE_RANKING);function ie(o){const i=+o.target.value;for(var c of J)i===c.type&&le(c.type)}return t(S,{fluid:!0,get children(){return[t(S,{class:"text-center",fluid:!0,get children(){return De.cloneNode(!0)}}),t(S,{get children(){return t(C,{get children(){return[t(u,{fluid:!0}),t(u,{md:6,get children(){return t(N,{style:{"margin-top":"10px","margin-bottom":"20px"},get children(){return t(N.Item,{eventKey:"0",get children(){return[t(N.Header,{children:"Event Selection"}),t(N.Body,{get children(){return t(O,{get children(){return t(Y,{each:T,children:(o,i)=>t(O.Check,{type:"checkbox",get id(){return o.slug},get label(){return(()=>{const c=Ge.cloneNode(!0),d=c.firstChild;return K(c,()=>o.name,d),K(c,()=>o.date,null),c})()},get checked(){return se().includes(o.slug)},get onClick(){return[ae,o.slug]}})})}})}})]}})}})}}),t(u,{md:2,get children(){return t(O,{get children(){return t(O.Select,{style:{padding:"10px","margin-top":"10px","margin-bottom":"15px","max-width":"300px",display:"inline"},onChange:ie,get value(){return b()},get children(){return t(Y,{each:J,children:(o,i)=>(()=>{const c=Fe.cloneNode(!0);return K(c,()=>o.name),me(()=>c.value=o.type),c})()})}})}})}}),t(u,{fluid:!0})]}})}}),t(S,{fluid:!0,get children(){return t(C,{get children(){return[t(u,{xs:2}),t(u,{get children(){return t(U,{get children(){return[t(R,{get when(){return V(()=>W().length===0,!0)()&&!M()},get children(){return t(S,{get children(){return t(C,{get children(){return[t(u,{fluid:!0}),t(u,{children:"Select an event to begin."}),t(u,{fluid:!0})]}})}})}}),t(R,{get when(){return V(()=>W().length!==0,!0)()&&M()},get children(){return t(S,{get children(){return t(C,{get children(){return[t(u,{fluid:!0}),t(u,{className:"text-center",get children(){return t(je,{animation:"border",role:"status",get children(){return Be.cloneNode(!0)}})}}),t(u,{fluid:!0})]}})}})}}),t(R,{get when(){return V(()=>E()!==void 0,!0)()&&E().stats.length>0},get children(){return t(U,{get children(){return[t(R,{get when(){return b()===m.SIMPLE_RANKING},get children(){return t(fe,{event:null,get metrics(){return E()},hideRoundResults:!0,excludeMaskedPlayers:!0})}}),t(R,{get when(){return b()===m.VICTORY_POINT_PLOT},get children(){return t(he,{event:null,get metrics(){return E()},excludeMaskedPlayers:!0})}}),t(R,{get when(){return b()===m.WIN_LOSS_METRICS},get children(){return t(ve,{event:null,get metrics(){return E()}})}})]}})}})]}})}}),t(u,{xs:2})]}})}})]}})};export{ze as default};
